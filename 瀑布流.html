<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<style>
*{ margin:0; padding:0; }
#div{ width:980px; margin:0 auto;}
ul{ width:300px; border:1px solid orange; float:left; margin:0 10px;}
li{ list-style:none; width:100%; margin:10px 0;}
</style>
<script>
window.onload = function(){
	var oDiv = document.getElementById('div');
	var aUl = oDiv.children;
	function rnd(n,m){
		return parseInt(n+Math.random()*(m-n));	
	}
	function createList(){
		for(var i = 0; i<20; i++){
			var aLi = document.createElement('li');
			aLi.style.background = 'rgb('+rnd(0,256)+','+rnd(0,256)+','+rnd(0,256)+')';	
			aLi.style.height = rnd(100,300) + 'px';
			var arr = [];
			for(var j = 0; j<aUl.length; j++){
				arr.push(aUl[j]);
			}
			arr.sort(function(aUl1,aUl2){
				return aUl1.offsetHeight - aUl2.offsetHeight;	
			});	
			//console.log(arr.length);
			//console.log(arr[0].offsetHeight,arr[1].offsetHeight,arr[2].offsetHeight);
			arr[0].appendChild(aLi);
		}
	}
	createList();
	window.onscroll = window.onresize = function(){
		var sT = document.documentElement.scrollTop||document.body.scrollTop;
		var cH = document.documentElement.clientHeight;
		var oT = document.body.scrollHeight;
		console.log(sT,cH,oT);
		if(oT<=sT + cH){
			createList();	
		}
	};	
};
</script>
</head>

<body>
	<div id="div">
		<ul></ul>
		<ul></ul>
		<ul></ul>
    </div>
</body>
</html>
